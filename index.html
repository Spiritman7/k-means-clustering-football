<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>k-means-clustering of Premier League footballers in the 2011/12 Season by onthestairs</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>k-means-clustering of Premier League footballers in the 2011/12 Season</h1>
        <p></p>

        <p class="view"><a href="https://github.com/onthestairs/k-means-clustering-football">View the Project on GitHub <small>onthestairs/k-means-clustering-football</small></a></p>


        <ul>
          <li><a href="https://github.com/onthestairs/k-means-clustering-football/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/onthestairs/k-means-clustering-football/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/onthestairs/k-means-clustering-football">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>K-means-clustering of Premier League footballers in the 2011/12 Season</h1>

<h2>Introduction</h2>

<p>I recently saw an application of the <a href="http://en.wikipedia.org/wiki/K-means_clustering">k-means clustering</a> algorithm by Charles Leifer. He <a href="http://charlesleifer.com/blog/using-python-and-k-means-to-find-the-dominant-colors-in-images/">tried to find</a> the dominant colours of an image. I had heard of the algorithm before and this inspired me find my own application of the  technique. After a bit of pondering, I remembered the  <a href="http://www.mcfc.co.uk/the-club/mcfc-analytics">Manchester City Analytics Dataset</a> released a couple of months ago. This data was perfect to analyse. </p>

<p>My idea was less to do with the means of the clusters, but rather the clusters themselves. I would use the algorithm to divide the players up into different groups in the most even way.</p>

<h2>Methodology</h2>

<p>The dataset is a csv file which contains a list of player performances - one row per performance for each player. The first task was to parse the data. So I created a Player class which holds all the stats for that player. I made sure I didn't capture the meta stats ("Team Id", "Venue", etc) - only the numerical stats of performance in the game. Then, I summed these stats up and divided by the number of games played to produce an 'average number of x per game' style stat.</p>

<p>The next step was to normalise this data so certain stats which were high (passes per game for example) weren't overweighted against stats which were low (tackles per game for example). I did this by letting each stat be equal to the linear position of that stat between the lowest and highest stat of that type amongst players. This meant each stat was now a value between 0 and 1.</p>

<p>From here, we can use the k-means algorithm to divide the players into k groups, each with a centre, minimising the distance between each player and its closest centre. As the algorithm depends on random starting conditions, I ran the algorithm 5 times and chose the best clustering. Typically, the clusterings ended up almost identically.</p>

<p>I then looked to find out what the 'key' features of each cluster were. This was calculated by seeing how different each stat of the centre of a cluster was to the same stat of the centre of all the other clusters. The more different the stat was, the more 'salient' to the cluster I declared the stat. </p>

<p>Initially upon doing this, I found that certain clusters were being arranged due to certain players propensity to taking free-kicks or corners. I decided that these stats weren't relevant to what the player was like during open play, so made an option to discard them.</p>

<p>I also made an option to filter the players by the meta stats. This allowed me to discard goalkeepers, players that came on as a substitute, limit to only midfielders etc. Another tweak I made was to only allow players who had more than 10 games played.</p>

<h2>Results</h2>
<p>I initally was curious to see how the players would be divided if we ran the algorithm on all outfield players with the number of clusters being 10 (i.e the number of outfield players on the pitch). Here are the results:
<h3>CLUSTER</h3>
<h4>Salient Features</h4>
<span style="color:green;">Headed Clearances<span>, <span style="color:green;">T
otal Clearances<span>, <span style="color:green;">Unsuccessful Long Balls<span>,
 <span style="color:green;">Other Clearances<span>, <span style="color:green;">U
nsuccessful Long Passes<span>, <span style="color:red;">Touches open play final
third<span>, <span style="color:green;">Successful Long Balls<span>, <span style
="color:green;">Blocks<span>, <span style="color:red;">Ground Duels lost<span>,
<span style="color:red;">Dispossessed<span>
<h4>Players</h4>
Leon Barnett, Chris Smalling, Jamie Carragher, Daniel Gabbidon, Carlos Cu�llar,
Chris Baird, James Collins, Michael Williamson, Marc Wilson, Sylvain Distin, Ant
on Ferdinand, Richard Stearman, Richard Dunne, Tim Ream, Zat Knight,  Steven Tay
lor, Johnny Heitinga, Christophe Berra, Russell Martin, Phil Jagielka, John O'Sh
ea, Elliott Ward
<h3>CLUSTER</h3>
<h4>Salient Features</h4>
<span style="color:green;">Goal Assist Throw In<span>, <span style="color:green;
">Other Shots On Target<span>, <span style="color:green;">Fouls Conceded exc han
dballs pens<span>, <span style="color:green;">Total Fouls Conceded<span>, <span
style="color:green;">Headed Blocked Shots<span>, <span style="color:red;">Unsucc
essful Long Passes<span>, <span style="color:green;">Goals from Corners<span>, <
span style="color:green;">Handballs Conceded<span>, <span style="color:green;">T
ackles Won<span>, <span style="color:green;">Yellow Cards<span>
<h4>Players</h4>
Paul Scharner, Phil Jones, Micah Richards, Tim Cahill, Marouane Fellaini
<h3>CLUSTER</h3>
<h4>Salient Features</h4>
<span style="color:green;">Key Passes<span>, <span style="color:green;">Successf
ul Passes Final third<span>, <span style="color:green;">Touches open play final
third<span>, <span style="color:green;">Successful Passes Opposition Half<span>,
 <span style="color:green;">Through Ball<span>, <span style="color:green;">Succe
ssful Lay-Offs<span>, <span style="color:green;">Pass Left<span>, <span style="c
olor:green;">Shots Off Target Outside Box<span>, <span style="color:green;">Bloc
ked Shots<span>, <span style="color:green;">Pass Backward<span>
<h4>Players</h4>
Aaron Ramsey, Jamie O'Hara,  Yaya Tour�, Luka Modric, Steven Pienaar, Mikel Arte
ta, Samir Nasri, Stewart Downing, Frank Lampard, Tomas Rosicky, Juan Mata, Ryan
Giggs,  Antonio Valencia, Gareth Bale, Gylfi Sigurdsson, Steven Gerrard, Adel Ta
arabt, James Morrison,  Nani, David Silva
<h3>CLUSTER</h3>
<h4>Salient Features</h4>
<span style="color:green;">Tackles Lost<span>, <span style="color:green;">Succes
sful Long Passes<span>, <span style="color:green;">Successful Passes Middle thir
d<span>, <span style="color:green;">Tackles Won<span>, <span style="color:green;
">Total Successful Passes Excl Crosses Corners<span>, <span style="color:green;"
>Total Successful Passes All<span>, <span style="color:green;">Successful Short
Passes<span>, <span style="color:red;">Headed Clearances<span>, <span style="col
or:green;">Pass Left<span>, <span style="color:green;">Challenge Lost<span>
<h4>Players</h4>
Youssuf Mulumbu, Moussa Demb�l�, Scott Parker, Stilian Petrov, Stephen Ireland,
Mohamed Diam�, Karl Henry, Lee Cattermole, Yohan Cabaye, Alexandre Song, Michael
 Carrick, Bradley Johnson, Raul Meireles, Joe Allen, Angel Rangel, Craig Gardner
, David Edwards,  Cheik Tiot�, Steve Sidwell, Nigel Reo-Coker, Steven N'Zonzi, D
anny Murphy, Leon Britton, Charlie Adam, James McArthur, James McCarthy, Glenn W
helan, Jay Spearing, Gareth Barry, David Fox, Alejandro Faurlin
<h3>CLUSTER</h3>
<h4>Salient Features</h4>
<span style="color:green;">Attempts Open Play on target<span>, <span style="colo
r:green;">Goals from Inside Box<span>, <span style="color:green;">Shots On from
Inside Box<span>, <span style="color:green;">Big Chances<span>, <span style="col
or:green;">Shots On Target inc goals<span>, <span style="color:green;">Goals Ope
n Play<span>, <span style="color:green;">Goals<span>, <span style="color:green;"
>Offsides<span>, <span style="color:green;">Unsuccessful Ball Touch<span>, <span
 style="color:green;">Touches open play opp six yards<span>
<h4>Players</h4>
Steven Fletcher, Wayne Rooney, Peter Crouch, Steve Morison, Emmanuel Adebayor, F
ernando Torres, Grant Holt, Shane Long, Danny Welbeck, Andy Carroll, Clint Demps
ey, Bobby Zamora, Demba Ba, Danny Graham, Luis Su�rez, Sergio Ag�ero, Darren Ben
t,  Yakubu, Daniel Sturridge, Robin van Persie, Nicklas Bendtner
<h3>CLUSTER</h3>
<h4>Salient Features</h4>
<span style="color:green;">Unsuccessful open play crosses<span>, <span style="co
lor:green;">Unsuccessful crosses in the air<span>, <span style="color:green;">Su
ccessful open play crosses<span>, <span style="color:green;">Successful crosses
in the air<span>, <span style="color:green;">Key Throw In<span>, <span style="co
lor:green;">Total Unsuccessful Passes All<span>, <span style="color:red;">Attemp
ts from Corners on target<span>, <span style="color:red;">Headed Blocked Shots<s
pan>, <span style="color:red;">Touches open play opp six yards<span>, <span styl
e="color:green;">Successful Ball Touch<span>
<h4>Players</h4>
Patrice Evra, Chris Brunt, Bacary Sagna,  Jos� Enrique, Armand Traore,  Sebastia
n Larsson, Benoit Assou-Ekotto, Pablo Zabaleta,  Elliott Bennett, Kyle Walker, J
os� Bosingwa, Morten Gamst Pedersen, Jean Beausejour,  Ryan Taylor, Ashley Cole,
 Ga�l Clichy, Jordan Henderson, Glen Johnson, Martin Petrov, James Milner, Leigh
ton Baines,  John Arne Riise, Joey Barton, Ryan Shotton
<h3>CLUSTER</h3>
<h4>Salient Features</h4>
<span style="color:green;">Ground Duels lost<span>, <span style="color:green;">U
nsuccessful Ball Touch<span>, <span style="color:red;">Pass Forward<span>, <span
 style="color:green;">Dispossessed<span>, <span style="color:red;">Headed Cleara
nces<span>, <span style="color:red;">Total Clearances<span>, <span style="color:
green;">Duels lost<span>, <span style="color:red;">Unsuccessful Passes Middle th
ird<span>, <span style="color:green;">Fouls Won in Danger Area inc pens<span>, <
span style="color:green;">Foul Won Penalty<span>
<h4>Players</h4>
Matthew Jarvis,  Mark Davies, Jon�s Guti�rrez, Wes Hoolahan, Kevin Doyle, Scott
Sinclair, Leon Osman, James McClean, Theo Walcott, St�phane Sessegnon,  Ramires,
 Gabriel Agbonlahor, Shaun Wright-Phillips, Jonathan Walters, Junior Hoilett, Da
mien Duff, Mauro Formica, Jamie Mackie, Andrew Surman, Peter Odemwingie, Charles
 N'Zogbia, Victor Moses
<h3>CLUSTER</h3>
<h4>Salient Features</h4>
<span style="color:green;">Unsuccessful Passes Defensive third<span>, <span styl
e="color:green;">Unsuccessful Long Passes<span>, <span style="color:green;">Unsu
ccessful Long Balls<span>, <span style="color:red;">Shots Off Target inc woodwor
k<span>, <span style="color:red;">Attempts Open Play on target<span>, <span styl
e="color:red;">Shots On Target inc goals<span>, <span style="color:red;">Success
ful Lay-Offs<span>, <span style="color:red;">Attempts Open Play off target<span>
, <span style="color:red;">Dispossessed<span>, <span style="color:green;">Unsucc
essful Passes Own Half<span>
<h4>Players</h4>
Andy Wilkinson, Steven Reid, Ronald Zubar, Alan Hutton, Emmerson Boyce, Bradley
Orr, Gr�tar Steinsson, Dean Whitehead, Sam Ricketts, Neil Taylor, Andrew Crofts,
 Taye Taiwo, Liam Ridgewell, Kyle Naughton, Billy Jones, Nicky Shorey, Philip Ne
ville, Stephen Warnock, Jason Lowe, Tony Hibbert, Stephen Ward, Shaun Derry, Jac
k Colback, Danny Simpson, Davide Santon, Phillip Bardsley, Dedryck Boyata, Steph
en Kelly, Luke Young,  Martin Olsson, Nedum Onuoha, Maynor Figueroa, Kieran Rich
ardson, Marc Tierney, Paul Robinson
<h3>CLUSTER</h3>
<h4>Salient Features</h4>
<span style="color:green;">Total Clearances<span>, <span style="color:green;">He
aded Clearances<span>, <span style="color:green;">Other Clearances<span>, <span
style="color:green;">Blocks<span>, <span style="color:red;">Touches open play fi
nal third<span>, <span style="color:red;">Pass Backward<span>, <span style="colo
r:red;">Dispossessed<span>, <span style="color:red;">Ground Duels lost<span>, <s
pan style="color:red;">Successful Passes Opposition Half<span>, <span style="col
or:red;">Unsuccessful Ball Touch<span>
<h4>Players</h4>
Gareth McAuley, Wes Brown, Scott Dann, Michael Turner, Zak Whitbread, Gary Cahil
l, Christopher Samba, Gael Givet, David Wheater, Grant Hanley, Clint Hill, Roger
 Johnson,  Jonas Olsson, Robert Huth, Ryan Shawcross
<h3>CLUSTER</h3>
<h4>Salient Features</h4>
<span style="color:green;">Successful Passes Defensive third<span>, <span style=
"color:green;">Successful Passes Own Half<span>, <span style="color:red;">Touche
s open play final third<span>, <span style="color:red;">Ground Duels lost<span>,
 <span style="color:red;">Dispossessed<span>, <span style="color:green;">Pass Fo
rward<span>, <span style="color:red;">Key Passes<span>, <span style="color:green
;">Headed Clearances<span>, <span style="color:red;">Duels lost<span>, <span sty
le="color:red;">Unsuccessful Ball Touch<span>
<h4>Players</h4>
Gary Caldwell, Ashley Williams, Younes Kaboul, Steven Caulker, Laurent Koscieln
y, Joleon Lescott, Daniel Agger, Brede Hangeland, Garry Monk, Branislav Ivanovic
, John Terry, Jonny Evans, Per Mertesacker, Martin Skrtel, Vincent Kompany, Will
iam Gallas, Thomas Vermaelen, Antolin Alcaraz, Aaron Hughes, Rio Ferdinand, Ledl
ey King, Fabricio Coloccini,  David Luiz, Philippe Senderos

</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/onthestairs">onthestairs</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>